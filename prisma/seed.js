// prisma/seed.js - –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø
const { PrismaClient } = require('@prisma/client');

const prisma = new PrismaClient();

async function main() {
  console.log('üå± –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...');

  // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
  console.log('üßπ –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ...');
  await prisma.batchItem.deleteMany();
  await prisma.orderItem.deleteMany();
  await prisma.order.deleteMany();
  await prisma.address.deleteMany();
  await prisma.batch.deleteMany();
  await prisma.product.deleteMany();
  await prisma.category.deleteMany();
  await prisma.user.deleteMany();

  // 1. –°–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
  console.log('üì¶ –°–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤...');
  
  const categories = await Promise.all([
    prisma.category.create({
      data: {
        name: '–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã',
        description: '–ú–æ–ª–æ–∫–æ, —Ç–≤–æ—Ä–æ–≥, —Å—ã—Ä—ã, –π–æ–≥—É—Ä—Ç—ã',
        imageUrl: 'https://example.com/dairy.jpg'
      }
    }),
    prisma.category.create({
      data: {
        name: '–ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞',
        description: '–°–≤–µ–∂–µ–µ –º—è—Å–æ, –ø—Ç–∏—Ü–∞, –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã',
        imageUrl: 'https://example.com/meat.jpg'
      }
    }),
    prisma.category.create({
      data: {
        name: '–•–ª–µ–±–æ–±—É–ª–æ—á–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è',
        description: '–•–ª–µ–±, –≤—ã–ø–µ—á–∫–∞, —Ç–æ—Ä—Ç—ã',
        imageUrl: 'https://example.com/bakery.jpg'
      }
    }),
    prisma.category.create({
      data: {
        name: '–û–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã',
        description: '–°–≤–µ–∂–∏–µ –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, –∑–µ–ª–µ–Ω—å',
        imageUrl: 'https://example.com/vegetables.jpg'
      }
    }),
    prisma.category.create({
      data: {
        name: '–ö—Ä—É–ø—ã –∏ –º–∞–∫–∞—Ä–æ–Ω—ã',
        description: '–ö—Ä—É–ø—ã, –º–∞–∫–∞—Ä–æ–Ω–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è, –±–æ–±–æ–≤—ã–µ',
        imageUrl: 'https://example.com/grains.jpg'
      }
    })
  ]);

  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${categories.length} –∫–∞—Ç–µ–≥–æ—Ä–∏–π`);

  // 2. –°–æ–∑–¥–∞–µ–º —Ç–æ–≤–∞—Ä—ã
  console.log('üõçÔ∏è –°–æ–∑–¥–∞–µ–º —Ç–æ–≤–∞—Ä—ã...');
  
  const products = await Promise.all([
    // –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
    prisma.product.create({
      data: {
        categoryId: categories[0].id,
        name: '–ú–æ–ª–æ–∫–æ 3.2%',
        description: '–°–≤–µ–∂–µ–µ –∫–æ—Ä–æ–≤—å–µ –º–æ–ª–æ–∫–æ –æ—Ç –º–µ—Å—Ç–Ω—ã—Ö —Ñ–µ—Ä–º–µ—Ä–æ–≤',
        price: 85.50,
        unit: '–ª',
        minQuantity: 1,
        maxQuantity: 20
      }
    }),
    prisma.product.create({
      data: {
        categoryId: categories[0].id,
        name: '–¢–≤–æ—Ä–æ–≥ –¥–æ–º–∞—à–Ω–∏–π',
        description: '–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Ç–≤–æ—Ä–æ–≥ 18% –∂–∏—Ä–Ω–æ—Å—Ç–∏',
        price: 320.00,
        unit: '–∫–≥',
        minQuantity: 1,
        maxQuantity: 5
      }
    }),
    prisma.product.create({
      data: {
        categoryId: categories[0].id,
        name: '–°—ã—Ä —Ä–æ—Å—Å–∏–π—Å–∫–∏–π',
        description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Å—ã—Ä',
        price: 450.00,
        unit: '–∫–≥',
        minQuantity: 1,
        maxQuantity: 3
      }
    }),

    // –ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞
    prisma.product.create({
      data: {
        categoryId: categories[1].id,
        name: '–ì–æ–≤—è–¥–∏–Ω–∞ (–≤—ã—Ä–µ–∑–∫–∞)',
        description: '–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –≥–æ–≤—è–∂—å—è –≤—ã—Ä–µ–∑–∫–∞',
        price: 850.00,
        unit: '–∫–≥',
        minQuantity: 1,
        maxQuantity: 10
      }
    }),
    prisma.product.create({
      data: {
        categoryId: categories[1].id,
        name: '–ö—É—Ä–∏—Ü–∞ –¥–æ–º–∞—à–Ω—è—è',
        description: '–î–æ–º–∞—à–Ω—è—è –∫—É—Ä–∏—Ü–∞, –≤—ã—Ä–∞—â–µ–Ω–Ω–∞—è –±–µ–∑ –∞–Ω—Ç–∏–±–∏–æ—Ç–∏–∫–æ–≤',
        price: 320.00,
        unit: '–∫–≥',
        minQuantity: 1,
        maxQuantity: 5
      }
    }),

    // –û–≤–æ—â–∏ –∏ —Ñ—Ä—É–∫—Ç—ã
    prisma.product.create({
      data: {
        categoryId: categories[3].id,
        name: '–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å',
        description: '–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å –º–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞',
        price: 35.00,
        unit: '–∫–≥',
        minQuantity: 2,
        maxQuantity: 50
      }
    }),
    prisma.product.create({
      data: {
        categoryId: categories[3].id,
        name: '–Ø–±–ª–æ–∫–∏',
        description: '–°–æ—á–Ω—ã–µ —è–±–ª–æ–∫–∏ —Å–æ—Ä—Ç–∞ –ê–Ω—Ç–æ–Ω–æ–≤–∫–∞',
        price: 120.00,
        unit: '–∫–≥',
        minQuantity: 1,
        maxQuantity: 10
      }
    })
  ]);

  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${products.length} —Ç–æ–≤–∞—Ä–æ–≤`);

  // 3. –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  console.log('üë• –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...');
  
  const users = await Promise.all([
    prisma.user.create({
      data: {
        phone: '+79991234567',
        firstName: '–ê–¥–º–∏–Ω',
        lastName: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
        email: 'admin@severnaya-korzina.ru'
      }
    }),
    prisma.user.create({
      data: {
        phone: '+79997654321',
        firstName: '–ò–≤–∞–Ω',
        lastName: '–ü–µ—Ç—Ä–æ–≤',
        email: 'ivan.petrov@email.com'
      }
    }),
    prisma.user.create({
      data: {
        phone: '+79995551234',
        firstName: '–ú–∞—Ä–∏—è',
        lastName: '–°–∏–¥–æ—Ä–æ–≤–∞',
        email: 'maria.sidorova@email.com'
      }
    })
  ]);

  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${users.length} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`);

  // 4. –°–æ–∑–¥–∞–µ–º –∞–¥—Ä–µ—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  console.log('üè† –°–æ–∑–¥–∞–µ–º –∞–¥—Ä–µ—Å–∞...');
  
  const addresses = await Promise.all([
    // –î–ª—è –∞–¥–º–∏–Ω–∞
    prisma.address.create({
      data: {
        userId: users[0].id,
        title: '–û—Ñ–∏—Å',
        address: '–≥. –£—Å—Ç—å-–ù–µ—Ä–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 15, –æ—Ñ–∏—Å 201',
        isDefault: true
      }
    }),
    
    // –î–ª—è –ò–≤–∞–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞
    prisma.address.create({
      data: {
        userId: users[1].id,
        title: '–î–æ–º',
        address: '–≥. –£—Å—Ç—å-–ù–µ—Ä–∞, —É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, 23, –∫–≤. 45',
        isDefault: true
      }
    }),
    
    // –î–ª—è –ú–∞—Ä–∏–∏ –°–∏–¥–æ—Ä–æ–≤–æ–π
    prisma.address.create({
      data: {
        userId: users[2].id,
        title: '–ö–≤–∞—Ä—Ç–∏—Ä–∞',
        address: '–≥. –£—Å—Ç—å-–ù–µ—Ä–∞, —É–ª. –ú–∏—Ä–∞, 7, –∫–≤. 12',
        isDefault: true
      }
    })
  ]);

  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${addresses.length} –∞–¥—Ä–µ—Å–æ–≤`);

  // 5. –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–∫—É–ø–∫—É
  console.log('üìã –°–æ–∑–¥–∞–µ–º –∑–∞–∫—É–ø–∫—É...');
  
  const batch = await prisma.batch.create({
    data: {
      title: '–ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã - —Ñ–µ–≤—Ä–∞–ª—å 2025',
      description: '–ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è –∑–∞–∫—É–ø–∫–∞ –º–æ–ª–æ—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –æ—Ç –º–µ—Å—Ç–Ω—ã—Ö —Ñ–µ—Ä–º–µ—Ä–æ–≤. –°–∫–∏–¥–∫–∏ –¥–æ 15%!',
      startDate: new Date('2025-02-01'),
      endDate: new Date('2025-02-28'),
      deliveryDate: new Date('2025-03-05'),
      minParticipants: 5,
      maxParticipants: 50,
      pickupAddress: '–≥. –£—Å—Ç—å-–ù–µ—Ä–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 15 (–æ—Ñ–∏—Å –°–µ–≤–µ—Ä–Ω–æ–π –∫–æ—Ä–∑–∏–Ω—ã)',
      status: 'active'
    }
  });

  // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–∫—É–ø–∫—É
  await Promise.all([
    prisma.batchItem.create({
      data: {
        batchId: batch.id,
        productId: products[0].id, // –ú–æ–ª–æ–∫–æ
        price: 75.00,
        discount: 12.50
      }
    }),
    prisma.batchItem.create({
      data: {
        batchId: batch.id,
        productId: products[1].id, // –¢–≤–æ—Ä–æ–≥
        price: 290.00,
        discount: 9.38
      }
    }),
    prisma.batchItem.create({
      data: {
        batchId: batch.id,
        productId: products[2].id, // –°—ã—Ä
        price: 420.00,
        discount: 6.67
      }
    })
  ]);

  // 6. –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
  console.log('üõí –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã...');
  
  const orders = await Promise.all([
    // –ó–∞–∫–∞–∑ –æ—Ç –ò–≤–∞–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞
    prisma.order.create({
      data: {
        userId: users[1].id, // –ò–≤–∞–Ω
        addressId: addresses[1].id,
        batchId: batch.id,
        totalAmount: 735.50,
        status: 'pending',
        notes: '–î–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ 18:00',
        createdAt: new Date('2025-01-20T10:30:00')
      }
    }),
    
    // –ó–∞–∫–∞–∑ –æ—Ç –ú–∞—Ä–∏–∏ –°–∏–¥–æ—Ä–æ–≤–æ–π
    prisma.order.create({
      data: {
        userId: users[2].id, // –ú–∞—Ä–∏—è
        addressId: addresses[2].id,
        batchId: batch.id,
        totalAmount: 1240.00,
        status: 'confirmed',
        notes: null,
        createdAt: new Date('2025-01-22T14:15:00')
      }
    }),
    
    // –ï—â–µ –æ–¥–∏–Ω –∑–∞–∫–∞–∑ –æ—Ç –ò–≤–∞–Ω–∞ (–æ–ø–ª–∞—á–µ–Ω–Ω—ã–π)
    prisma.order.create({
      data: {
        userId: users[1].id, // –ò–≤–∞–Ω
        addressId: addresses[1].id,
        totalAmount: 450.00,
        status: 'paid',
        notes: '–¢–æ–ª—å–∫–æ –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã',
        createdAt: new Date('2025-01-25T09:45:00')
      }
    }),
    
    // –î–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑ –æ—Ç –ú–∞—Ä–∏–∏
    prisma.order.create({
      data: {
        userId: users[2].id, // –ú–∞—Ä–∏—è
        addressId: addresses[2].id,
        totalAmount: 860.00,
        status: 'delivered',
        notes: null,
        createdAt: new Date('2025-01-18T16:20:00')
      }
    }),
    
    // –û—Ç–º–µ–Ω–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑
    prisma.order.create({
      data: {
        userId: users[1].id, // –ò–≤–∞–Ω
        addressId: addresses[1].id,
        totalAmount: 320.00,
        status: 'cancelled',
        notes: '–û—Ç–º–µ–Ω–∏–ª –ø–æ –ª–∏—á–Ω—ã–º –ø—Ä–∏—á–∏–Ω–∞–º',
        createdAt: new Date('2025-01-26T11:00:00')
      }
    })
  ]);

  // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑—ã
  console.log('üì¶ –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑—ã...');
  
  await Promise.all([
    // –¢–æ–≤–∞—Ä—ã –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –ò–≤–∞–Ω–∞ (pending)
    prisma.orderItem.create({
      data: {
        orderId: orders[0].id,
        productId: products[0].id, // –ú–æ–ª–æ–∫–æ
        quantity: 3,
        price: 85.50
      }
    }),
    prisma.orderItem.create({
      data: {
        orderId: orders[0].id,
        productId: products[1].id, // –¢–≤–æ—Ä–æ–≥
        quantity: 1,
        price: 320.00
      }
    }),
    prisma.orderItem.create({
      data: {
        orderId: orders[0].id,
        productId: products[2].id, // –°—ã—Ä
        quantity: 0.5,
        price: 450.00
      }
    }),

    // –¢–æ–≤–∞—Ä—ã –¥–ª—è –∑–∞–∫–∞–∑–∞ –ú–∞—Ä–∏–∏ (confirmed)
    prisma.orderItem.create({
      data: {
        orderId: orders[1].id,
        productId: products[3].id, // –ì–æ–≤—è–¥–∏–Ω–∞
        quantity: 1,
        price: 850.00
      }
    }),
    prisma.orderItem.create({
      data: {
        orderId: orders[1].id,
        productId: products[4].id, // –ö—É—Ä–∏—Ü–∞
        quantity: 1,
        price: 320.00
      }
    }),
    prisma.orderItem.create({
      data: {
        orderId: orders[1].id,
        productId: products[5].id, // –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å
        quantity: 2,
        price: 35.00
      }
    }),

    // –¢–æ–≤–∞—Ä—ã –¥–ª—è –æ–ø–ª–∞—á–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –ò–≤–∞–Ω–∞
    prisma.orderItem.create({
      data: {
        orderId: orders[2].id,
        productId: products[2].id, // –°—ã—Ä
        quantity: 1,
        price: 450.00
      }
    }),

    // –¢–æ–≤–∞—Ä—ã –¥–ª—è –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ –ú–∞—Ä–∏–∏
    prisma.orderItem.create({
      data: {
        orderId: orders[3].id,
        productId: products[0].id, // –ú–æ–ª–æ–∫–æ
        quantity: 2,
        price: 85.50
      }
    }),
    prisma.orderItem.create({
      data: {
        orderId: orders[3].id,
        productId: products[6].id, // –Ø–±–ª–æ–∫–∏
        quantity: 5,
        price: 120.00
      }
    }),

    // –¢–æ–≤–∞—Ä—ã –¥–ª—è –æ—Ç–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
    prisma.orderItem.create({
      data: {
        orderId: orders[4].id,
        productId: products[4].id, // –ö—É—Ä–∏—Ü–∞
        quantity: 1,
        price: 320.00
      }
    })
  ]);

  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${orders.length} –∑–∞–∫–∞–∑–æ–≤ —Å —Ç–æ–≤–∞—Ä–∞–º–∏`);

  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∑–∞–∫—É–ø–∫–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏`);

  /// 7. –í—ã–≤–æ–¥–∏–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  console.log('\nüìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:');
  
  const stats = await Promise.all([
    prisma.category.count(),
    prisma.product.count(),
    prisma.user.count(),
    prisma.address.count(),
    prisma.batch.count(),
    prisma.order.count(),
    prisma.orderItem.count()
  ]);

  console.log(`üì¶ –ö–∞—Ç–µ–≥–æ—Ä–∏–π: ${stats[0]}`);
  console.log(`üõçÔ∏è –¢–æ–≤–∞—Ä–æ–≤: ${stats[1]}`);
  console.log(`üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${stats[2]}`);
  console.log(`üè† –ê–¥—Ä–µ—Å–æ–≤: ${stats[3]}`);
  console.log(`üìã –ó–∞–∫—É–ø–æ–∫: ${stats[4]}`);
  console.log(`üõí –ó–∞–∫–∞–∑–æ–≤: ${stats[5]}`);
  console.log(`üì¶ –ü–æ–∑–∏—Ü–∏–π –≤ –∑–∞–∫–∞–∑–∞—Ö: ${stats[6]}`);

  console.log('\nüéâ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!');
  console.log('\nüì± –¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏:');
  console.log('üëë –ê–¥–º–∏–Ω: +79991234567 (–ª–æ–≥–∏–Ω: admin, –ø–∞—Ä–æ–ª—å: admin)');
  console.log('üë§ –ò–≤–∞–Ω: +79997654321 (SMS –∫–æ–¥: 1234)');
  console.log('üë§ –ú–∞—Ä–∏—è: +79995551234 (SMS –∫–æ–¥: 1234)');
  console.log('\nüõí –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã:');
  console.log('üìã 5 –∑–∞–∫–∞–∑–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏');
  console.log('üì¶ 10+ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑–∞—Ö');
  console.log('üéØ –ì–æ—Ç–æ–≤–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏!');
}

main()
  .catch((e) => {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });