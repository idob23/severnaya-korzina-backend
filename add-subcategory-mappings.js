const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

// –¢–í–û–ò —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ ID –∫–∞—Ç–µ–≥–æ—Ä–∏–π
const newMappings = {
  // ====== –¢–û–†–¢–´ –ò –ü–ò–†–û–ñ–ù–´–ï (2445) ======
  '- –ü–∏—Ä–æ–∂–Ω—ã–µ, –¥–µ—Å–µ—Ä—Ç—ã, –ø–æ–Ω—á–∏–∫–∏': 2445,
  
  // ====== –ú–û–†–û–ñ–ï–ù–û–ï (2446) ======
  '- –ó–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ —Ñ—Ä—É–∫—Ç–æ–≤—ã–µ —á–∞–∏ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —è–≥–æ–¥ –∏ —Ç—Ä–∞–≤ (–ø—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏ –≤ –∫–∏–ø—è—Ç–æ–∫)': 2446,
  '- –î–æ–π-–ø–∞–∫': 2446,
  
  // ====== –ö–û–ù–î–ò–¢–ï–†–°–ö–ò–ï (2448) ======
  '- –ö–∞—Ä–∞–º–µ–ª—å —Ñ–∞—Å–æ–≤–∞–Ω–Ω–∞—è': 2448,
  '- –ö–∞—Ä–∞–º–µ–ª—å –≤–µ—Å–æ–≤–∞—è': 2448,
  '- –ü–æ–ø–∫–æ—Ä–Ω': 2448,
  '- –•–ª–µ–±—Ü—ã, –±–∞—Ç–æ–Ω—á–∏–∫–∏, –º—é—Å–ª–∏': 2448,
  
  // ====== –ú–Ø–°–û –ò –ü–¢–ò–¶–ê (2454) ======
  '- –ü—Ä–æ–¥—É–∫—Ü–∏—è –¢–ú –ë–æ–≥–æ—Ä–æ–¥—Å–∫–∏–π —Ñ–µ—Ä–º–µ—Ä': 2454,
  '- –ü—Ä–æ–¥—É–∫—Ü–∏—è –¢–ú –ê–ª—Ç–∞–π—Å–∫–∏–π –∫—É–ø–µ—Ü, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫': 2454,
  '- –ü—Ä–æ–¥—É–∫—Ü–∏—è –¢–ú –ë–∞—Ä—Å, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫': 2454,
  '- –ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞ –≤ –ú–∞—Ä–∏–Ω–∞–¥–∞—Ö': 2454,
  '- –Ø–π—Ü–æ –∫—É—Ä–∏–Ω–æ–µ (–ê)': 2454,
  
  // ====== –ö–†–£–ü–´ –ò –ú–ê–ö–ê–†–û–ù–´ (2458) ======
  '- –°—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã, –æ—Ä–µ—Ö–∏': 2458,
  '- –ü—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è —Å—É—à–∏ –∏ —Ä–æ–ª–ª (A)': 2458,
  '- –ú–µ–¥': 2458,
  '- –•–ª–æ–ø—å—è, –∫–∞—à–∏, —Å–µ–º–µ–Ω–∞ (C)': 2458,
  
  // ====== –ú–û–õ–û–ß–ù–ê–Ø –ü–†–û–î–£–ö–¶–ò–Ø (2450) ======
  '- –°–º–µ—Ç–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –¥–µ—Å–µ—Ä—Ç—ã (B)': 2450,
  
  // ====== –ö–û–ù–°–ï–†–í–´ (2463) ======
  '- –ü–∞—à—Ç–µ—Ç—ã': 2463,
  '- –ö–æ–Ω—Å–µ—Ä–≤—ã –æ–≤–æ—â–Ω—ã–µ –¢–ú "–°–û–ù–ù–ê –ú–ï–†–ê"  –ò–Ω–¥–∏—è': 2463,
  '- –ö–æ–Ω—Å–µ—Ä–≤—ã –æ–≤–æ—â–Ω—ã–µ –≥–æ—Ä–æ—à–µ–∫, –∫—É–∫—É—Ä—É–∑–∞': 2463,
  '- –°–æ–ª–µ–Ω—å—è –æ–≤–æ—â–Ω—ã–µ  (–ê)': 2463,
  '- –û–ª–∏–≤–∫–∏ –º–∞—Å–ª–∏–Ω—ã': 2463,
  '- –°–∏—Ä–æ–ø—ã –∏ –¥–µ—Å–µ—Ä—Ç—ã': 2463,
  '- –ü—Ä–æ—á–∏–µ –∫–æ–Ω—Å–µ—Ä–≤—ã –∏–∑ —Ä—ã–±—ã –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤': 2463,
  
  // ====== –ì–û–¢–û–í–´–ï –ë–õ–Æ–î–ê (2472) ======
  '- –ü–∏—Ü—Ü–∞, –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø–∏—Ü—Ü—ã': 2472,
  '- –ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã –¥–ª—è —Ä–∞–∑–æ–≥—Ä–µ–≤–∞': 2472,
  '- –ì–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑–æ–≥—Ä–µ–≤–∞': 2472,
  '- –ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã –≤–µ—Å–æ–≤—ã–µ (S)': 2472,
  '- –ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã —Ñ–∞—Å–æ–≤–∞–Ω–Ω—ã–µ (S)': 2472,
  '- –¢–µ—Å—Ç–æ  (R)': 2472,
  '- –ò–∑–¥–µ–ª–∏—è –∏–∑ —Å–ª–æ–µ–Ω–æ–≥–æ –∏ —Å–¥–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞': 2472,
  '- –ì–æ—Ç–æ–≤—ã–µ –±–ª—é–¥–∞ –∏–∑ –æ–≤–æ—â–µ–π': 2472,
  '- –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏, –∏–∑–¥–µ–ª–∏—è –∏–∑ –∫–∞—Ä—Ç–æ—Ñ–µ–ª—è': 2472,
  '- –û–≤–æ—â–∏ –∏ –≥—Ä–∏–±—ã —Ñ–∞—Å–æ–≤–∞–Ω–Ω—ã–µ': 2472,
  '- –û–≤–æ—â–∏ –∏ –≥—Ä–∏–±—ã  –≤–µ—Å–æ–≤—ã–µ': 2472,
  '- –Ø–≥–æ–¥—ã –∏ —Ñ—Ä—É–∫—Ç—ã –≤–µ—Å–æ–≤—ã–µ': 2472,
  '- –Ø–≥–æ–¥—ã –∏ —Ñ—Ä—É–∫—Ç—ã —Ñ–∞—Å–æ–≤–∞–Ω–Ω—ã–µ': 2472,
  
  // ====== –†–´–ë–ê –ò –ú–û–†–ï–ü–†–û–î–£–ö–¢–´ (2479) ======
  '- –†—ã–±–∞ –º–æ—Ä–æ–∂–µ–Ω–∞—è': 2479,
  '- –ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –º–æ—Ä–æ–∂–µ–Ω—ã–µ': 2479,
  '- –ö—Ä–µ–≤–µ—Ç–∫–∞ –≤–∞—Ä—ë–Ω–æ-–º–æ—Ä–æ–∂–µ–Ω–∞—è': 2479,
  '- –ö—Ä–∞–±–æ–≤—ã–µ –ø–∞–ª–æ—á–∫–∏ , –∫—Ä–∞–±–æ–≤–æ–µ –º—è—Å–æ': 2479,
  '- –ò–∫—Ä–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–∞—è –¥–ª—è —Å—É—à–∏': 2479,
  '- –ò–∫—Ä–∞': 2479,
  '- –ö –ø–∏–≤—É': 2479,
  '- –ò–∑–¥–µ–ª–∏—è –∏–∑ –∫–µ—Ç—ã': 2479,
  '- –ò–∑–¥–µ–ª–∏—è –∏–∑ —Å–µ–ª—å–¥–∏': 2479,
};

async function addMappings() {
  console.log('üìä –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–æ–≤ –¥–ª—è –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π...\n');
  
  let added = 0;
  let updated = 0;
  let errors = 0;
  
  for (const [supplierCat, targetId] of Object.entries(newMappings)) {
    try {
      const result = await prisma.supplierCategoryMapping.upsert({
        where: { supplierCategory: supplierCat },
        create: {
          supplierCategory: supplierCat,
          targetCategoryId: targetId,
          confidence: 'manual'
        },
        update: {
          targetCategoryId: targetId
        }
      });
      
      added++;
      if (added % 10 === 0) {
        console.log(`   –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: ${added}/${Object.keys(newMappings).length}`);
      }
    } catch (e) {
      console.error(`‚ùå ${supplierCat}: ${e.message}`);
      errors++;
    }
  }
  
  console.log('\n‚úÖ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!');
  console.log(`üìä –î–æ–±–∞–≤–ª–µ–Ω–æ: ${added}`);
  console.log(`‚ö†Ô∏è  –û—à–∏–±–æ–∫: ${errors}`);
  
  const total = await prisma.supplierCategoryMapping.count();
  console.log(`üì¶ –í—Å–µ–≥–æ –≤ –ë–î: ${total}`);
  
  await prisma.$disconnect();
}

addMappings();
